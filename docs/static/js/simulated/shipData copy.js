(function () {
    window.SHIP_DATA = [
        {
            id: "mmsi-12345678",
            category: "region",
            slot: "left-region",
            mmsi: "412001767",
            coords: { lat: 16.782, lng: 114.512 },
            coordinatesLabel: "16.782°N, 114.512°E",
            status: "接近臺灣海峽・高度可疑",
            event_status: "",
            lastUpdate: "最新偵測：5 分鐘前",
            threat: { score: 90, level: "高風險" },
            ais: "未開啟",
            shipType: "貨輪",
            navigation: "Under way using engine",
            cog: "216.5°",
            sog: "9.8 節",
            rf: {
                frequency: "162.135 MHz",
                location: "16.782°N, 114.512°E",
                timestamp: "16:27Z",
                pulseWidth: "125 ns",
                prf: "850 Hz",
                status: "最新蒐集",
            },
            trajectory: [
                { lat: 16.31, lng: 113.902, hoursAgo: 12 },
                { lat: 16.52, lng: 114.12, hoursAgo: 6 },
                { lat: 16.65, lng: 114.32, hoursAgo: 3 },
                { lat: 16.782, lng: 114.512, hoursAgo: 0 },
            ],
            instruction: "建議立即動態監控航速變化，並同步衛星偵蒐與海巡併航。",
            action: null,
        },
        {
            id: "mmsi-52378231",
            category: "region",
            slot: "left-region",
            mmsi: "412001767",
            coords: { lat: 15.956, lng: 116.202 },
            coordinatesLabel: "15.956°N, 116.202°E",
            status: "停留於航道邊緣",
            lastUpdate: "最新偵測：18 分鐘前",
            threat: { score: 75, level: "中風險" },
            ais: "未開啟",
            shipType: "貨輪",
            navigation: "Under way using engine",
            cog: "198.3°",
            sog: "8.2 節",
            rf: {
                frequency: "162.135 MHz",
                location: "15.956°N, 116.202°E",
                timestamp: "15:58Z",
                pulseWidth: "125 ns",
                prf: "850 Hz",
                status: "最新蒐集",
            },
            trajectory: [
                { lat: 15.52, lng: 115.702, hoursAgo: 12 },
                { lat: 15.68, lng: 115.89, hoursAgo: 6 },
                { lat: 15.82, lng: 116.05, hoursAgo: 3 },
                { lat: 15.956, lng: 116.202, hoursAgo: 0 },
            ],
            instruction: "建議列入優先追蹤清單，調派 UAV 於 5 海里上空盤旋。",
            action: null,
        },
        {
            id: "mmsi-98236402",
            category: "region",
            slot: "left-region",
            mmsi: "412001264",
            coords: { lat: 14.832, lng: 117.045 },
            coordinatesLabel: "14.832°N, 117.045°E",
            status: "向東緩速前進",
            lastUpdate: "最新偵測：32 分鐘前",
            threat: { score: 59, level: "低風險" },
            ais: "未開啟",
            shipType: "貨輪",
            navigation: "Under way using engine",
            cog: "114.0°",
            sog: "7.2 節",
            rf: {
                frequency: "162.135 MHz",
                location: "14.832°N, 117.045°E",
                timestamp: "15:32Z",
                pulseWidth: "125 ns",
                prf: "850 Hz",
                status: "最新蒐集",
            },
            trajectory: [
                { lat: 14.42, lng: 116.55, hoursAgo: 12 },
                { lat: 14.56, lng: 116.73, hoursAgo: 6 },
                { lat: 14.69, lng: 116.9, hoursAgo: 3 },
                { lat: 14.832, lng: 117.045, hoursAgo: 0 },
            ],
            instruction: "建議持續收集 RF 訊號並待命，必要時交接給電子偵蒐車。",
            action: null,
        },
        {
            id: "track-88654321",
            category: "tracking",
            slot: "left-region",
            mmsi: "412000588",
            coords: { lat: 22.406, lng: 119.315 },
            coordinatesLabel: "22.406°N, 119.315°E",
            status: "高速接近台灣海峽",
            lastUpdate: "最新偵測：10 分鐘前",
            threat: { score: 88, level: "高風險" },
            ais: "未開啟",
            shipType: "特種艦",
            navigation: "高速接近台灣海峽",
            cog: "045°",
            sog: "24 節",
            rf: {
                frequency: "162.135 MHz",
                location: "22.406°N, 119.315°E",
                timestamp: "16:10Z",
                pulseWidth: "125 ns",
                prf: "850 Hz",
                status: "最新蒐集",
            },
            trajectory: [
                { lat: 21.98, lng: 118.7, hoursAgo: 12 },
                { lat: 22.15, lng: 118.92, hoursAgo: 6 },
                { lat: 22.3, lng: 119.11, hoursAgo: 3 },
                { lat: 22.406, lng: 119.315, hoursAgo: 0 },
            ],
            instruction: "維持海巡三號併航監控，持續記錄航向與速率並通知雷達站。",
            action: { label: "衛星拍攝", schedule: "16:30Z" },
        },
        {
            id: "track-77543210",
            category: "tracking",
            slot: "left-region",
            mmsi: "412001684",
            coords: { lat: 25.244, lng: 119.533 },
            coordinatesLabel: "25.244°N, 119.533°E",
            status: "停泊於金門外圍",
            lastUpdate: "最新偵測：24 分鐘前",
            threat: { score: 72, level: "中風險" },
            ais: "未開啟",
            shipType: "貨輪",
            navigation: "停泊於金門外圍",
            cog: "000°",
            sog: "0 節",
            rf: {
                frequency: "162.135 MHz",
                location: "25.244°N, 119.533°E",
                timestamp: "15:46Z",
                pulseWidth: "125 ns",
                prf: "850 Hz",
                status: "最新蒐集",
            },
            trajectory: [
                { lat: 24.988, lng: 119.12, hoursAgo: 12 },
                { lat: 25.03, lng: 119.26, hoursAgo: 6 },
                { lat: 25.16, lng: 119.42, hoursAgo: 3 },
                { lat: 25.244, lng: 119.533, hoursAgo: 0 },
            ],
            instruction: "無人機循跡拍攝，並上傳影像至戰情中心。",
            action: { label: "衛星拍攝", schedule: "17:00Z" },
        },
        {
            id: "track-66540987",
            category: "tracking",
            slot: "left-region",
            mmsi: "66540987",
            coords: { lat: 24.768, lng: 120.842 },
            coordinatesLabel: "24.768°N, 120.842°E",
            status: "向北減速離開",
            lastUpdate: "最新偵測：41 分鐘前",
            threat: { score: 61, level: "低風險" },
            ais: "未開啟",
            shipType: "貨輪",
            navigation: "向北減速離開",
            cog: "010°",
            sog: "12 節",
            rf: {
                frequency: "162.135 MHz",
                location: "24.768°N, 120.842°E",
                timestamp: "15:25Z",
                pulseWidth: "125 ns",
                prf: "850 Hz",
                status: "最新蒐集",
            },
            trajectory: [
                { lat: 24.29, lng: 120.3, hoursAgo: 12 },
                { lat: 24.43, lng: 120.52, hoursAgo: 6 },
                { lat: 24.61, lng: 120.69, hoursAgo: 3 },
                { lat: 24.768, lng: 120.842, hoursAgo: 0 },
            ],
            instruction: "保持待命觀察，若再度加速即通知海巡。",
            action: { label: "衛星拍攝", schedule: "18:20Z" },
        },
    ];

    // Remove redundant name fields when they duplicate MMSI.
    window.SHIP_DATA.forEach((ship) => {
        if (!ship) return;
        if (ship.name && ship.mmsi && ship.name.trim() === `MMSI ${ship.mmsi}`) {
            delete ship.name;
        }
    });
})();
